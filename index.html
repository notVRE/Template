<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sidebar with Right Submenu (Offline)</title>

    <!-- TailwindCSS & React -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      src="https://unpkg.com/react@18/umd/react.development.js"
      crossorigin
    ></script>
    <script
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
      crossorigin
    ></script>

    <!-- Material Icons -->
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
      rel="stylesheet"
    />
    <style>
      .material-symbols-outlined {
        font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 24;
        font-size: 24px;
      }
      iframe {
        border: none;
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body class="bg-gray-100">
    <div id="root" class="h-screen"></div>

    <script>
      const { useState, createElement } = React;

      // Sidebar Component
      function Sidebar({ activeFile, setActiveFile }) {
        const [openMenu, setOpenMenu] = useState(null);

        const menu = [
          { name: "Home", icon: "home", file: "pages/home.html" },
          {
            name: "Account",
            icon: "person",
            sub: [
              { name: "Profile", file: "pages/account/profile.html" },
              { name: "Security", file: "pages/account/security.html" },
            ],
          },
          { name: "Settings", icon: "settings", file: "proj.html" },
        ];

        return createElement(
          "div",
          { className: "flex" },
          // Primary Sidebar
          createElement(
            "div",
            {
              className:
                "w-20 bg-white shadow-lg flex flex-col items-center py-4",
            },
            // Logo at the top
            createElement(
              "div",
              {
                className: "mb-6 cursor-pointer",
                onClick: () => {
                  setActiveFile("pages/home.html");
                  setOpenMenu(null);
                },
              },
              createElement("img", {
                src: "logo.png",
                alt: "Logo",
                className: "w-10 h-10 rounded-full shadow-md",
              })
            ),
            menu.map((item, index) =>
              createElement(
                "div",
                { key: index, className: "w-full" },
                // Main menu button
                createElement(
                  "div",
                  {
                    className:
                      "cursor-pointer text-gray-700 hover:bg-gray-100 transition-all duration-300 p-2 w-full flex flex-col items-center " +
                      (activeFile === item.file
                        ? "bg-blue-100 text-blue-700"
                        : ""),
                    onClick: () => {
                      if (item.sub) {
                        setOpenMenu(openMenu === item.name ? null : item.name);
                      } else {
                        setActiveFile(item.file);
                        setOpenMenu(null);
                      }
                    },
                  },
                  createElement(
                    "span",
                    { className: "material-symbols-outlined" },
                    item.icon
                  ),
                  createElement(
                    "span",
                    { className: "text-xs mt-1" },
                    item.name
                  )
                )
              )
            )
          ),
          // Submenu Sidebar (right)
          openMenu
            ? createElement(
                "div",
                {
                  className:
                    "w-48 bg-gray-50 border-r border-gray-200 shadow-inner flex flex-col py-4",
                },
                createElement(
                  "h3",
                  { className: "px-4 text-gray-600 font-semibold mb-2" },
                  openMenu
                ),
                menu
                  .find((m) => m.name === openMenu)
                  .sub.map((subItem, i) =>
                    createElement(
                      "div",
                      {
                        key: i,
                        className:
                          "cursor-pointer text-gray-700 hover:bg-gray-200 px-4 py-2 rounded-md mx-2 " +
                          (activeFile === subItem.file
                            ? "bg-blue-100 text-blue-700"
                            : ""),
                        onClick: () => setActiveFile(subItem.file),
                      },
                      subItem.name
                    )
                  )
              )
            : null
        );
      }

      // Main App
      function App() {
        const [activeFile, setActiveFile] = useState("pages/home.html");

        return createElement(
          "div",
          { className: "flex h-full" },
          createElement(Sidebar, { activeFile, setActiveFile }),
          createElement("iframe", { src: activeFile })
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(createElement(App));
    </script>
  </body>
</html>
